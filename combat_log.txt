=== COMBAT LOG INITIALIZED ===
Bridge crew assigned:
  Captain: 75 Command (Initiative: +75 to roll)
  Tactical: 75 Tactical (Accuracy: +15%)
============================================================
COMBAT ARENA INITIALIZED
============================================================
Combat: Yorktown vs 1 enemy ships
  Enemy forces: 1× Yorktown
Starting positions:
  Enterprise: hex=(-5,0) facing=0 size=Huge
  Yorktown-1: hex=(5,-2) facing=3 size=Huge
Combat ready - press SPACE to fire, ENTER to advance

============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 67 = 142
Yorktown-1: Base 0 + Roll 98 = 98
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
Must move before turning!
DEBUG: Enterprise wants to move FWD from (-5,0) to (-4,0)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (-4,0) to (-3,0)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned left (2 pts left)
DEBUG: Enterprise wants to move FWD from (-3,0) to (-2,-1)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise wants to move FWD from (-2,-1) to (-1,-2)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 5 movement points
DEBUG: Yorktown-1 starting at (5,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,-2)
  Yorktown-1: (5,-2)
DEBUG: Asking AI to decide movement with 5 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 6, Target in arc: fore
DEBUG: AI decided on 5 moves: ['forward', 'turn_right', 'forward', 'turn_left', 'forward']
DEBUG: Yorktown-1 executing move 1/5: forward
DEBUG:   Before: (5,-2) facing 3
DEBUG: Yorktown-1 wants to move FWD from (5,-2) to (4,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG:   After: (4,-2) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 2/5: turn_right
DEBUG:   Before: (4,-2) facing 3
Turned right (3 pts left)
DEBUG:   After: (4,-2) facing 4 - Success: True
DEBUG: Yorktown-1 executing move 3/5: forward
DEBUG:   Before: (4,-2) facing 4
DEBUG: Yorktown-1 wants to move FWD from (4,-2) to (4,-3)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (4,-3) facing 4 - Success: True
DEBUG: Yorktown-1 executing move 4/5: turn_left
DEBUG:   Before: (4,-3) facing 4
Turned left (1 pts left)
DEBUG:   After: (4,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 5/5: forward
DEBUG:   Before: (4,-3) facing 3
DEBUG: Yorktown-1 wants to move FWD from (4,-3) to (3,-3)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (3,-3) facing 3 - Success: True
DEBUG: Yorktown-1 ended at (3,-3) facing 3
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
KEY: ENTER pressed - phase=targeting
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
KEY: SPACE pressed - firing weapons
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting STARBOARD shields ---
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
PHASER: 85 to starboard shields
TORPEDO: 216 to starboard shields, 3.6000000000000005 hull
TORPEDO: 216 to starboard shields, 3.6000000000000005 hull
TORPEDO: 216 to starboard shields, 3.6000000000000005 hull
TORPEDO: 216 to starboard shields, 3.6000000000000005 hull
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:600 W:0) → 1.50x shields
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 58 = 133
Yorktown-1: Base 0 + Roll 55 = 55
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 3 movement points
DEBUG: Enterprise wants to move FWD from (-1,-2) to (0,-3)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (0,-3) to (1,-4)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise wants to move FWD from (1,-4) to (2,-5)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (3,-3) facing 3
DEBUG: All ship positions:
  Enterprise: (2,-5)
  Yorktown-1: (3,-3)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: starboard
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (3,-3) facing 3
DEBUG: Yorktown-1 wants to move BACK from (3,-3) to (4,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (4,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (4,-3) facing 3
DEBUG: Yorktown-1 wants to move BACK from (4,-3) to (5,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (5,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 3/7: backward
DEBUG:   Before: (5,-3) facing 3
DEBUG: Yorktown-1 wants to move BACK from (5,-3) to (6,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
DEBUG:   After: (6,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (6,-3) facing 3
DEBUG: Yorktown-1 wants to move FWD from (6,-3) to (5,-3)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (5,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 5/7: turn_left
DEBUG:   Before: (5,-3) facing 3
No movement points left!
DEBUG:   After: (5,-3) facing 3 - Success: False
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (5,-3) facing 3
No movement points left!
DEBUG:   After: (5,-3) facing 3 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
KEY: ENTER pressed - phase=targeting
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
KEY: SPACE pressed - firing weapons
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting STARBOARD shields ---
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
PHASER: 90 to starboard shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:200 W:0) → 1.50x shields
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 99 = 174
Yorktown-1: Base 0 + Roll 26 = 26
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 3 movement points
Must move before turning!
DEBUG: Enterprise wants to move FWD from (2,-5) to (3,-6)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
Turned right (1 pts left)
DEBUG: Enterprise wants to move FWD from (3,-6) to (4,-6)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (5,-3) facing 3
DEBUG: All ship positions:
  Enterprise: (4,-6)
  Yorktown-1: (5,-3)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: starboard
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right', 'forward']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (5,-3) facing 3
DEBUG: Yorktown-1 wants to move BACK from (5,-3) to (6,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (6,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (6,-3) facing 3
DEBUG: Yorktown-1 wants to move BACK from (6,-3) to (7,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (7,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 3/7: forward
DEBUG:   Before: (7,-3) facing 3
DEBUG: Yorktown-1 wants to move FWD from (7,-3) to (6,-3)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (6,-3) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 4/7: turn_left
DEBUG:   Before: (6,-3) facing 3
Turned left (1 pts left)
DEBUG:   After: (6,-3) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/7: forward
DEBUG:   Before: (6,-3) facing 2
DEBUG: Yorktown-1 wants to move FWD from (6,-3) to (5,-2)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (5,-2) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 6/7: turn_right
DEBUG:   Before: (5,-2) facing 2
No movement points left!
DEBUG:   After: (5,-2) facing 2 - Success: False
DEBUG: Yorktown-1 executing move 7/7: forward
DEBUG:   Before: (5,-2) facing 2
No movement points left!
DEBUG:   After: (5,-2) facing 2 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2475, 808)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
KEY: SPACE pressed - firing weapons
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting STARBOARD shields ---
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
TORPEDO: 243 to starboard shields, 4.050000000000001 hull
TORPEDO: 243 to starboard shields, 4.050000000000001 hull
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:207 S:180 W:212) → +2 MP, 1.40x shields, 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 20 = 95
Yorktown-1: Base 0 + Roll 4 = 4
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 7 movement points (base 5 + 2 power bonus)
Must move before turning!
Must move before turning!
DEBUG: Enterprise wants to move FWD from (4,-6) to (5,-6)
>>> All hexes clear, proceeding with movement
Moved forward (6 pts left)
DEBUG: Enterprise wants to move FWD from (5,-6) to (6,-6)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
Turned right (4 pts left)
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (5,-2) facing 2
DEBUG: All ship positions:
  Enterprise: (6,-6)
  Yorktown-1: (5,-2)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: aft
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right', 'forward']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (5,-2) facing 2
DEBUG: Yorktown-1 wants to move BACK from (5,-2) to (6,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (6,-3) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (6,-3) facing 2
DEBUG: Yorktown-1 wants to move BACK from (6,-3) to (7,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (7,-4) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 3/7: forward
DEBUG:   Before: (7,-4) facing 2
DEBUG: Yorktown-1 wants to move FWD from (7,-4) to (6,-3)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (6,-3) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 4/7: turn_left
DEBUG:   Before: (6,-3) facing 2
Turned left (1 pts left)
DEBUG:   After: (6,-3) facing 1 - Success: True
DEBUG: Yorktown-1 executing move 5/7: forward
DEBUG:   Before: (6,-3) facing 1
DEBUG: Yorktown-1 wants to move FWD from (6,-3) to (6,-2)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (6,-2) facing 1 - Success: True
DEBUG: Yorktown-1 executing move 6/7: turn_right
DEBUG:   Before: (6,-2) facing 1
No movement points left!
DEBUG:   After: (6,-2) facing 1 - Success: False
DEBUG: Yorktown-1 executing move 7/7: forward
DEBUG:   Before: (6,-2) facing 1
No movement points left!
DEBUG:   After: (6,-2) facing 1 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2475, 806)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
KEY: SPACE pressed - firing weapons
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
PHASER → PRIMARY: 106 to aft shields
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:200 S:180 W:200) → +2 MP, 1.40x shields, 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 95 = 170
Yorktown-1: Base 0 + Roll 78 = 78
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 7 movement points (base 5 + 2 power bonus)
