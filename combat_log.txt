=== COMBAT LOG INITIALIZED ===
Bridge crew assigned:
  Captain: 75 Command (Initiative: +75 to roll)
  Tactical: 75 Tactical (Accuracy: +15%)
============================================================
COMBAT ARENA INITIALIZED
============================================================
Combat: Yorktown vs 3 enemy ships
  Enemy forces: 3× Miranda
Starting positions:
  Enterprise: hex=(-5,0) facing=0 size=Huge
  Miranda-1: hex=(5,-2) facing=3 size=Medium
  Miranda-2: hex=(7,-2) facing=3 size=Medium
  Miranda-3: hex=(9,-2) facing=3 size=Medium
Combat ready - press SPACE to fire, ENTER to advance

============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 67 = 142
Miranda-1: Base 0 + Roll 21 = 21
Miranda-2: Base 0 + Roll 83 = 83
Miranda-3: Base 0 + Roll 1 = 1
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-5,0) to (-4,0)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (-4,0) to (-3,0)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG: Enterprise wants to move FWD from (-3,0) to (-2,0)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
Turned left (1 pts left)
DEBUG: Enterprise wants to move FWD from (-2,0) to (-1,-1)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (7,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,-1)
  Miranda-1: (5,-2)
  Miranda-2: (7,-2)
  Miranda-3: (9,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 8, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'forward', 'forward', 'turn_right', 'forward', 'turn_left']
DEBUG: Miranda-2 executing move 1/6: forward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-2 wants to move FWD from (7,-2) to (6,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (6,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 2/6: forward
DEBUG:   Before: (6,-2) facing 3
DEBUG: Miranda-2 wants to move FWD from (6,-2) to (5,-2)
>>> Miranda-2 MOVEMENT BLOCKED! Would collide with Miranda-1
>>> Colliding hexes: [(5, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (6,-2) facing 3 - Success: False
Miranda-2: Movement blocked, stopping remaining moves
DEBUG: Miranda-2 ended at (6,-2) facing 3
DEBUG: Miranda-2 position synced to pixel (1547.4101615137756, 431.0)
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (5,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,-1)
  Miranda-1: (5,-2)
  Miranda-2: (6,-2)
  Miranda-3: (9,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 6, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (5,-2) facing 3
DEBUG: Miranda-1 wants to move FWD from (5,-2) to (4,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (4,-2) facing 3 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_left
DEBUG:   Before: (4,-2) facing 3
Turned left (4 pts left)
DEBUG:   After: (4,-2) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (4,-2) facing 2
DEBUG: Miranda-1 wants to move FWD from (4,-2) to (3,-1)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (3,-1) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_left
DEBUG:   Before: (3,-1) facing 2
Turned left (2 pts left)
DEBUG:   After: (3,-1) facing 1 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (3,-1) facing 1
DEBUG: Miranda-1 wants to move FWD from (3,-1) to (3,0)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (3,0) facing 1 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_right
DEBUG:   Before: (3,0) facing 1
Turned right (0 pts left)
DEBUG:   After: (3,0) facing 2 - Success: True
DEBUG: Miranda-1 ended at (3,0) facing 2
DEBUG: Miranda-1 position synced to pixel (1408.8460969082653, 551.0)
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (9,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,-1)
  Miranda-1: (3,0)
  Miranda-2: (6,-2)
  Miranda-3: (9,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 10, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'forward', 'forward', 'forward', 'forward', 'turn_right']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (9,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (9,-2) to (8,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (8,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 2/6: forward
DEBUG:   Before: (8,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (8,-2) to (7,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG:   After: (7,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 3/6: forward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (7,-2) to (6,-2)
>>> Miranda-3 MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(6, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (7,-2) facing 3 - Success: False
Miranda-3: Movement blocked, stopping remaining moves
DEBUG: Miranda-3 ended at (7,-2) facing 3
DEBUG: Miranda-3 position synced to pixel (1616.6921938165306, 431.0)
DEBUG: Miranda-3 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (1541, 427)
  Opening radial menu for Miranda-2
RADIAL MENU: Click at (1545, 347), target=Miranda-2
  Selected: PRIMARY (primary)
DEBUG select_target(): Enterprise -> Miranda-2 as primary
>>> TARGET SET: Enterprise PRIMARY = Miranda-2
MOUSE: Left-click at (1609, 434)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1668, 445), target=Miranda-3
  Selected: SECONDARY (secondary)
DEBUG select_target(): Enterprise -> Miranda-3 as secondary
>>> TARGET SET: Enterprise SECONDARY = Miranda-3
MOUSE: Left-click at (1408, 568)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1411, 626), target=Miranda-1
  Selected: TERTIARY (tertiary)
DEBUG select_target(): Enterprise -> Miranda-1 as tertiary
>>> TARGET SET: Enterprise TERTIARY = Miranda-1
MOUSE: Left-click at (2514, 807)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-2
  SECONDARY: Miranda-3
  TERTIARY: Miranda-1
PHASER → SECONDARY: 63 to fore shields (75%)
PHASER → PRIMARY: 85 to fore shields
PHASER → SECONDARY: 63 to fore shields (75%)
PHASER → PRIMARY: 85 to fore shields
PHASER → TERTIARY: 53 to starboard shields (50%)
PHASER → TERTIARY: 53 to starboard shields (50%)
PHASER → PRIMARY: 85 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 7 hexes, hitting STARBOARD shields ---
PHASER: 24 to starboard shields
PHASER: 24 to starboard shields
TORPEDO: 79 to starboard shields, 0 hull
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting STARBOARD shields ---
PHASER: 30 to starboard shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 8 hexes, hitting STARBOARD shields ---
PHASER: 24 to starboard shields
PHASER: 24 to starboard shields
TORPEDO: 79 to starboard shields, 0 hull
DEBUG: Miranda-3 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 50 = 125
Miranda-1: Base 0 + Roll 52 = 52
Miranda-2: Base 0 + Roll 22 = 22
Miranda-3: Base 0 + Roll 41 = 41
Turn order: Enterprise > Miranda-1 > Miranda-3 > Miranda-2

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-1,-1) to (0,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (0,-2) to (1,-3)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned right (2 pts left)
DEBUG: Enterprise wants to move FWD from (1,-3) to (2,-3)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise wants to move FWD from (2,-3) to (3,-3)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (3,0) facing 2
DEBUG: All ship positions:
  Enterprise: (3,-3)
  Miranda-1: (3,0)
  Miranda-2: (6,-2)
  Miranda-3: (7,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: aft
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'forward', 'turn_right', 'forward']
DEBUG: Miranda-1 executing move 1/6: backward
DEBUG:   Before: (3,0) facing 2
DEBUG: Miranda-1 wants to move BACK from (3,0) to (4,-1)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (4,-1) facing 2 - Success: True
DEBUG: Miranda-1 executing move 2/6: backward
DEBUG:   Before: (4,-1) facing 2
DEBUG: Miranda-1 wants to move BACK from (4,-1) to (5,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (5,-2) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: backward
DEBUG:   Before: (5,-2) facing 2
DEBUG: Miranda-1 wants to move BACK from (5,-2) to (6,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (6,-3) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: forward
DEBUG:   Before: (6,-3) facing 2
No movement points left!
DEBUG:   After: (6,-3) facing 2 - Success: False
Miranda-1: Movement blocked, stopping remaining moves
DEBUG: Miranda-1 ended at (6,-3) facing 2
DEBUG: Miranda-1 position synced to pixel (1512.769145362398, 371.0)
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (7,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (3,-3)
  Miranda-1: (6,-3)
  Miranda-2: (6,-2)
  Miranda-3: (7,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 5, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (7,-2) to (6,-2)
>>> Miranda-3 MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(6, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (7,-2) facing 3 - Success: False
Miranda-3: Movement blocked, stopping remaining moves
DEBUG: Miranda-3 ended at (7,-2) facing 3
DEBUG: Miranda-3 position synced to pixel (1616.6921938165306, 431.0)
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (6,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (3,-3)
  Miranda-1: (6,-3)
  Miranda-2: (6,-2)
  Miranda-3: (7,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: fore
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Miranda-2 executing move 1/6: backward
DEBUG:   Before: (6,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (6,-2) to (7,-2)
>>> Miranda-2 MOVEMENT BLOCKED! Would collide with Miranda-3
>>> Colliding hexes: [(7, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (6,-2) facing 3 - Success: False
Miranda-2: Movement blocked, stopping remaining moves
DEBUG: Miranda-2 ended at (6,-2) facing 3
DEBUG: Miranda-2 position synced to pixel (1547.4101615137756, 431.0)
DEBUG: Miranda-2 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2501, 797)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-2
  SECONDARY: Miranda-3
  TERTIARY: Miranda-1
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 86.2 shield, 19.8 hull
TORPEDO → PRIMARY: 270 shield, 180.0 hull
TORPEDO → PRIMARY: 270 shield, 180.0 hull
TORPEDO → PRIMARY: 270 shield, 180.0 hull
TORPEDO → PRIMARY: 270 shield, 180.0 hull
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting FORE shields ---
PHASER: 36 to fore shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting FORE shields ---
PHASER: 30 to fore shields
PHASER: 30 to fore shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 30 to fore shields
PHASER: 30 to fore shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: CRITICAL - Defensive power allocation!
Miranda-2: Power allocated (E:105 S:150 W:45)
DEBUG: Miranda-2 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: Repaired Sensors +16%
DEBUG: Miranda-2 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 83 = 158
Miranda-1: Base 0 + Roll 8 = 8
Miranda-2: Base 0 + Roll 74 = 74
Miranda-3: Base 0 + Roll 44 = 44
Turn order: Enterprise > Miranda-2 > Miranda-3 > Miranda-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (3,-3) to (4,-3)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (4,-3) to (5,-3)
>>> Enterprise MOVEMENT BLOCKED! Would collide with Miranda-1
>>> Colliding hexes: [(6, -3)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG: Enterprise wants to move FWD from (4,-3) to (5,-3)
>>> Enterprise MOVEMENT BLOCKED! Would collide with Miranda-1
>>> Colliding hexes: [(6, -3)]
>>> RETURNING FALSE - MOVE CANCELLED
Turned left (3 pts left)
DEBUG: Enterprise wants to move FWD from (4,-3) to (5,-4)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (5,-4) to (6,-5)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
Turned right (0 pts left)
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (6,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (6,-3)
  Miranda-2: (6,-2)
  Miranda-3: (7,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: starboard
DEBUG: AI decided on 2 moves: ['backward', 'backward']
DEBUG: Miranda-2 executing move 1/2: backward
DEBUG:   Before: (6,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (6,-2) to (7,-2)
>>> Miranda-2 MOVEMENT BLOCKED! Would collide with Miranda-3
>>> Colliding hexes: [(7, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (6,-2) facing 3 - Success: False
Miranda-2: Movement blocked, stopping remaining moves
DEBUG: Miranda-2 ended at (6,-2) facing 3
DEBUG: Miranda-2 position synced to pixel (1547.4101615137756, 431.0)
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (7,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (6,-3)
  Miranda-2: (6,-2)
  Miranda-3: (7,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: starboard
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Miranda-3 executing move 1/6: backward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-3 wants to move BACK from (7,-2) to (8,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (8,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 2/6: backward
DEBUG:   Before: (8,-2) facing 3
DEBUG: Miranda-3 wants to move BACK from (8,-2) to (9,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (9,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 3/6: forward
DEBUG:   Before: (9,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (9,-2) to (8,-2)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (8,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 4/6: turn_left
DEBUG:   Before: (8,-2) facing 3
Turned left (0 pts left)
DEBUG:   After: (8,-2) facing 2 - Success: True
DEBUG: Miranda-3 executing move 5/6: forward
DEBUG:   Before: (8,-2) facing 2
No movement points left!
DEBUG:   After: (8,-2) facing 2 - Success: False
Miranda-3: Movement blocked, stopping remaining moves
DEBUG: Miranda-3 ended at (8,-2) facing 2
DEBUG: Miranda-3 position synced to pixel (1685.9742261192855, 431.0)
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (6,-3) facing 2
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (6,-3)
  Miranda-2: (6,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: aft
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'backward', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: backward
DEBUG:   Before: (6,-3) facing 2
DEBUG: Miranda-1 wants to move BACK from (6,-3) to (7,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (7,-4) facing 2 - Success: True
DEBUG: Miranda-1 executing move 2/6: backward
DEBUG:   Before: (7,-4) facing 2
DEBUG: Miranda-1 wants to move BACK from (7,-4) to (8,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (8,-5) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: backward
DEBUG:   Before: (8,-5) facing 2
DEBUG: Miranda-1 wants to move BACK from (8,-5) to (9,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (9,-6) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: backward
DEBUG:   Before: (9,-6) facing 2
Not enough movement points! (Backward costs 2)
DEBUG:   After: (9,-6) facing 2 - Success: False
Miranda-1: Movement blocked, stopping remaining moves
DEBUG: Miranda-1 ended at (9,-6) facing 2
DEBUG: Miranda-1 position synced to pixel (1616.6921938165306, 191.0)
DEBUG: Miranda-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2522, 794)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-2
  SECONDARY: Miranda-3
  TERTIARY: Miranda-1
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → TERTIARY: 63 to fore shields (50%)
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting STARBOARD shields ---
PHASER: 38 to starboard shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting STARBOARD shields ---
PHASER: 31 to starboard shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting FORE shields ---
PHASER: 38 to fore shields
PHASER: 38 to fore shields
TORPEDO: 126 to fore shields, 0 hull
DEBUG: Miranda-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: CRITICAL - Defensive power allocation!
Miranda-2: Power allocated (E:105 S:150 W:45)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: Repaired Sensors +4%
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 66 = 141
Miranda-1: Base 0 + Roll 64 = 64
Miranda-2: Base 0 + Roll 81 = 81
Miranda-3: Base 0 + Roll 29 = 29
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (6,-5) to (7,-5)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned right (3 pts left)
DEBUG: Enterprise wants to move FWD from (7,-5) to (7,-4)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (7,-4) to (7,-3)
>>> Enterprise MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(6, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
Turned right (1 pts left)
DEBUG: Enterprise wants to move FWD from (7,-4) to (6,-3)
>>> Enterprise MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(6, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
Already turned! Move again to turn more.
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (6,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (7,-4)
  Miranda-1: (9,-6)
  Miranda-2: (6,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: starboard
DEBUG: AI decided on 2 moves: ['backward', 'backward']
DEBUG: Miranda-2 executing move 1/2: backward
DEBUG:   Before: (6,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (6,-2) to (7,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (7,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 2/2: backward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (7,-2) to (8,-2)
>>> Miranda-2 MOVEMENT BLOCKED! Would collide with Miranda-3
>>> Colliding hexes: [(8, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (7,-2) facing 3 - Success: False
Miranda-2: Movement blocked, stopping remaining moves
DEBUG: Miranda-2 ended at (7,-2) facing 3
DEBUG: Miranda-2 position synced to pixel (1616.6921938165306, 431.0)
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (9,-6) facing 2
DEBUG: All ship positions:
  Enterprise: (7,-4)
  Miranda-1: (9,-6)
  Miranda-2: (7,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: fore
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'backward', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: backward
DEBUG:   Before: (9,-6) facing 2
DEBUG: Miranda-1 wants to move BACK from (9,-6) to (10,-7)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (10,-7) facing 2 - Success: True
DEBUG: Miranda-1 executing move 2/6: backward
DEBUG:   Before: (10,-7) facing 2
DEBUG: Miranda-1 wants to move BACK from (10,-7) to (11,-8)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (11,-8) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: backward
DEBUG:   Before: (11,-8) facing 2
DEBUG: Miranda-1 wants to move BACK from (11,-8) to (12,-9)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (12,-9) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: backward
DEBUG:   Before: (12,-9) facing 2
Not enough movement points! (Backward costs 2)
DEBUG:   After: (12,-9) facing 2 - Success: False
Miranda-1: Movement blocked, stopping remaining moves
DEBUG: Miranda-1 ended at (12,-9) facing 2
DEBUG: Miranda-1 position synced to pixel (1720.6152422706632, 11.0)
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (8,-2) facing 2
DEBUG: All ship positions:
  Enterprise: (7,-4)
  Miranda-1: (12,-9)
  Miranda-2: (7,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: starboard
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'forward', 'turn_right', 'forward']
DEBUG: Miranda-3 executing move 1/6: backward
DEBUG:   Before: (8,-2) facing 2
DEBUG: Miranda-3 wants to move BACK from (8,-2) to (9,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (9,-3) facing 2 - Success: True
DEBUG: Miranda-3 executing move 2/6: backward
DEBUG:   Before: (9,-3) facing 2
DEBUG: Miranda-3 wants to move BACK from (9,-3) to (10,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (10,-4) facing 2 - Success: True
DEBUG: Miranda-3 executing move 3/6: backward
DEBUG:   Before: (10,-4) facing 2
DEBUG: Miranda-3 wants to move BACK from (10,-4) to (11,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (11,-5) facing 2 - Success: True
DEBUG: Miranda-3 executing move 4/6: forward
DEBUG:   Before: (11,-5) facing 2
No movement points left!
DEBUG:   After: (11,-5) facing 2 - Success: False
Miranda-3: Movement blocked, stopping remaining moves
DEBUG: Miranda-3 ended at (11,-5) facing 2
DEBUG: Miranda-3 position synced to pixel (1789.8972745734181, 251.0)
DEBUG: Miranda-3 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2520, 745)
============================================================
FIRING WEAPONS
============================================================
Not firing phase! (Currently: targeting)
MOUSE: Left-click at (2515, 793)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-2
  SECONDARY: Miranda-3
  TERTIARY: Miranda-1
PHASER → PRIMARY: 78.4 shield, 48.6 hull
  *** Miranda-2 DISABLED - Hull integrity failure! ***
PHASER → PRIMARY: 50.8 shield, 76.2 hull
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → SECONDARY: 79 to starboard shields (75%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → SECONDARY: 79 to starboard shields (75%)
PHASER → SECONDARY: 79 to starboard shields (75%)
PHASER → SECONDARY: 79 to starboard shields (75%)
PHASER → SECONDARY: 79 to starboard shields (75%)
PHASER → SECONDARY: 79 to starboard shields (75%)
TORPEDO → TERTIARY: 135 shield, 0 hull (50%)
TORPEDO → TERTIARY: 135 shield, 0 hull (50%)
*** Miranda-2 DESTROYED! ***
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 2 hexes, hitting FORE shields ---
PHASER: 40 to fore shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting AFT shields ---
PHASER: 33 to aft shields
PHASER: 33 to aft shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting PORT shields ---
PHASER: 33 to port shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: CRITICAL - Defensive power allocation!
Miranda-2: Power allocated (E:105 S:150 W:45)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 68 = 143
Miranda-1: Base 0 + Roll 16 = 16
Miranda-2: Base 0 + Roll 5 = 5
Miranda-3: Base 0 + Roll 36 = 36
Turn order: Enterprise > Miranda-3 > Miranda-1 > Miranda-2

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (7,-4) to (6,-3)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (6,-3) to (5,-2)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned left (2 pts left)
DEBUG: Enterprise wants to move FWD from (5,-2) to (5,-1)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
Turned left (0 pts left)
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (11,-5) facing 2
DEBUG: All ship positions:
  Enterprise: (5,-1)
  Miranda-1: (12,-9)
  Miranda-2: (7,-2)
  Miranda-3: (11,-5)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 6, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_right', 'forward', 'turn_right']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (11,-5) facing 2
DEBUG: Miranda-3 wants to move FWD from (11,-5) to (10,-4)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (10,-4) facing 2 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_right
DEBUG:   Before: (10,-4) facing 2
Turned right (4 pts left)
DEBUG:   After: (10,-4) facing 3 - Success: True
DEBUG: Miranda-3 executing move 3/6: forward
DEBUG:   Before: (10,-4) facing 3
DEBUG: Miranda-3 wants to move FWD from (10,-4) to (9,-4)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (9,-4) facing 3 - Success: True
DEBUG: Miranda-3 executing move 4/6: turn_right
DEBUG:   Before: (9,-4) facing 3
Turned right (2 pts left)
DEBUG:   After: (9,-4) facing 4 - Success: True
DEBUG: Miranda-3 executing move 5/6: forward
DEBUG:   Before: (9,-4) facing 4
DEBUG: Miranda-3 wants to move FWD from (9,-4) to (9,-5)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (9,-5) facing 4 - Success: True
DEBUG: Miranda-3 executing move 6/6: turn_right
DEBUG:   Before: (9,-5) facing 4
Turned right (0 pts left)
DEBUG:   After: (9,-5) facing 5 - Success: True
DEBUG: Miranda-3 ended at (9,-5) facing 5
DEBUG: Miranda-3 position synced to pixel (1651.333209967908, 251.0)
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (12,-9) facing 2
DEBUG: All ship positions:
  Enterprise: (5,-1)
  Miranda-1: (12,-9)
  Miranda-2: (7,-2)
  Miranda-3: (9,-5)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 8, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'forward', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (12,-9) facing 2
DEBUG: Miranda-1 wants to move FWD from (12,-9) to (11,-8)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (11,-8) facing 2 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (11,-8) facing 2
Turned right (4 pts left)
DEBUG:   After: (11,-8) facing 3 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (11,-8) facing 3
DEBUG: Miranda-1 wants to move FWD from (11,-8) to (10,-8)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (10,-8) facing 3 - Success: True
DEBUG: Miranda-1 executing move 4/6: forward
DEBUG:   Before: (10,-8) facing 3
DEBUG: Miranda-1 wants to move FWD from (10,-8) to (9,-8)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (9,-8) facing 3 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (9,-8) facing 3
DEBUG: Miranda-1 wants to move FWD from (9,-8) to (8,-8)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (8,-8) facing 3 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_left
DEBUG:   Before: (8,-8) facing 3
Turned left (0 pts left)
DEBUG:   After: (8,-8) facing 2 - Success: True
DEBUG: Miranda-1 ended at (8,-8) facing 2
DEBUG: Miranda-1 position synced to pixel (1478.1281292110202, 71.0)
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (7,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (5,-1)
  Miranda-1: (8,-8)
  Miranda-2: (7,-2)
  Miranda-3: (9,-5)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: fore
DEBUG: AI decided on 2 moves: ['backward', 'backward']
DEBUG: Miranda-2 executing move 1/2: backward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (7,-2) to (8,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (8,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 2/2: backward
DEBUG:   Before: (8,-2) facing 3
DEBUG: Miranda-2 wants to move BACK from (8,-2) to (9,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (9,-2) facing 3 - Success: True
DEBUG: Miranda-2 ended at (9,-2) facing 3
DEBUG: Miranda-2 position synced to pixel (1755.2562584220407, 431.0)
DEBUG: Miranda-2 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
2 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2486, 745)
============================================================
FIRING WEAPONS
============================================================
Not firing phase! (Currently: targeting)
MOUSE: Left-click at (2495, 803)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-2
  SECONDARY: Miranda-3
  TERTIARY: Miranda-1
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 18.0 shield, 24.0 hull (50%)
PHASER → TERTIARY: 16.8 shield, 25.2 hull (50%)
*** Miranda-2 DESTROYED! ***
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 31 to fore shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 7 hexes, hitting PORT shields ---
PHASER: 25 to port shields
PHASER: 25 to port shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 31 to fore shields
PHASER: 31 to fore shields
TORPEDO: 104 to fore shields, 0 hull
DEBUG: Miranda-2 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: CRITICAL - Defensive power allocation!
Miranda-2: Power allocated (E:105 S:150 W:45)
DEBUG: Miranda-2 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 14 = 89
Miranda-1: Base 0 + Roll 12 = 12
Miranda-2: Base 0 + Roll 13 = 13
Miranda-3: Base 0 + Roll 11 = 11
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
