=== COMBAT LOG INITIALIZED ===
Bridge crew assigned:
  Captain: 75 Command (Initiative: +75 to roll)
  Tactical: 75 Tactical (Accuracy: +15%)
============================================================
COMBAT ARENA INITIALIZED
============================================================
Combat: Yorktown vs 3 enemy ships
  Enemy forces: 3× Miranda
Starting positions:
  Enterprise: hex=(-5,0) facing=0 size=Huge
  Miranda-1: hex=(5,-2) facing=3 size=Medium
  Miranda-2: hex=(7,-2) facing=3 size=Medium
  Miranda-3: hex=(9,-2) facing=3 size=Medium
Combat ready - press SPACE to fire, ENTER to advance

============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 63 = 138
Miranda-1: Base 0 + Roll 72 = 72
Miranda-2: Base 0 + Roll 59 = 59
Miranda-3: Base 0 + Roll 64 = 64
Turn order: Enterprise > Miranda-1 > Miranda-3 > Miranda-2

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-5,0) to (-4,0)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (-4,0) to (-3,0)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG: Enterprise wants to move FWD from (-3,0) to (-2,0)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (-2,0) to (-1,0)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
Turned right (0 pts left)
No movement points left!
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (5,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,0)
  Miranda-1: (5,-2)
  Miranda-2: (7,-2)
  Miranda-3: (9,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 6, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (5,-2) facing 3
DEBUG: Miranda-1 wants to move FWD from (5,-2) to (4,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (4,-2) facing 3 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (4,-2) facing 3
Turned right (4 pts left)
DEBUG:   After: (4,-2) facing 4 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (4,-2) facing 4
DEBUG: Miranda-1 wants to move FWD from (4,-2) to (4,-3)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (4,-3) facing 4 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_left
DEBUG:   Before: (4,-3) facing 4
Turned left (2 pts left)
DEBUG:   After: (4,-3) facing 3 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (4,-3) facing 3
DEBUG: Miranda-1 wants to move FWD from (4,-3) to (3,-3)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (3,-3) facing 3 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_left
DEBUG:   Before: (3,-3) facing 3
Turned left (0 pts left)
DEBUG:   After: (3,-3) facing 2 - Success: True
DEBUG: Miranda-1 ended at (3,-3) facing 2
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (9,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,0)
  Miranda-1: (3,-3)
  Miranda-2: (7,-2)
  Miranda-3: (9,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 10, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'forward', 'forward', 'forward', 'forward', 'turn_right']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (9,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (9,-2) to (8,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (8,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 2/6: forward
DEBUG:   Before: (8,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (8,-2) to (7,-2)
>>> Miranda-3 MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(7, -2)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (8,-2) facing 3 - Success: False
Miranda-3: Movement blocked, clearing remaining moves
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (7,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-1,0)
  Miranda-1: (3,-3)
  Miranda-2: (7,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 8, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'forward', 'forward', 'turn_right', 'forward', 'turn_right']
DEBUG: Miranda-2 executing move 1/6: forward
DEBUG:   Before: (7,-2) facing 3
DEBUG: Miranda-2 wants to move FWD from (7,-2) to (6,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (6,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 2/6: forward
DEBUG:   Before: (6,-2) facing 3
DEBUG: Miranda-2 wants to move FWD from (6,-2) to (5,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG:   After: (5,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 3/6: forward
DEBUG:   Before: (5,-2) facing 3
DEBUG: Miranda-2 wants to move FWD from (5,-2) to (4,-2)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (4,-2) facing 3 - Success: True
DEBUG: Miranda-2 executing move 4/6: turn_right
DEBUG:   Before: (4,-2) facing 3
Turned right (2 pts left)
DEBUG:   After: (4,-2) facing 4 - Success: True
DEBUG: Miranda-2 executing move 5/6: forward
DEBUG:   Before: (4,-2) facing 4
DEBUG: Miranda-2 wants to move FWD from (4,-2) to (4,-3)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (4,-3) facing 4 - Success: True
DEBUG: Miranda-2 executing move 6/6: turn_right
DEBUG:   Before: (4,-3) facing 4
Turned right (0 pts left)
DEBUG:   After: (4,-3) facing 5 - Success: True
DEBUG: Miranda-2 ended at (4,-3) facing 5
DEBUG: Miranda-2 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (1293, 383)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1291, 315), target=Miranda-1
  Selected: PRIMARY (primary)
DEBUG select_target(): Enterprise -> Miranda-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Miranda-1
MOUSE: Left-click at (1383, 375)
  Opening radial menu for Miranda-2
RADIAL MENU: Click at (1469, 378), target=Miranda-2
  Selected: SECONDARY (secondary)
DEBUG select_target(): Enterprise -> Miranda-2 as secondary
>>> TARGET SET: Enterprise SECONDARY = Miranda-2
MOUSE: Left-click at (1695, 454)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1688, 538), target=Miranda-3
  Selected: TERTIARY (tertiary)
DEBUG select_target(): Enterprise -> Miranda-3 as tertiary
>>> TARGET SET: Enterprise TERTIARY = Miranda-3
MOUSE: Left-click at (2539, 811)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-1
  SECONDARY: Miranda-2
  TERTIARY: Miranda-3
PHASER → SECONDARY: 79 to aft shields (75%)
PHASER → SECONDARY: 79 to aft shields (75%)
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → TERTIARY: 31 to fore shields (50%)
PHASER → TERTIARY: 31 to fore shields (50%)
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting PORT shields ---
PHASER: 30 to port shields
PHASER: 30 to port shields
TORPEDO: 99 to port shields, 1.6500000000000004 hull
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 9 hexes, hitting PORT shields ---
PHASER: 18 to port shields
PHASER: 18 to port shields
TORPEDO: 59 to port shields, 0.9900000000000002 hull
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting PORT shields ---
PHASER: 30 to port shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:600) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 47 = 122
Miranda-1: Base 0 + Roll 64 = 64
Miranda-2: Base 0 + Roll 53 = 53
Miranda-3: Base 0 + Roll 19 = 19
Turn order: Enterprise > Miranda-1 > Miranda-2 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-1,0) to (-1,1)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned left (3 pts left)
DEBUG: Enterprise wants to move FWD from (-1,1) to (0,1)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (0,1) to (1,1)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise wants to move FWD from (1,1) to (2,1)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (3,-3) facing 2
DEBUG: All ship positions:
  Enterprise: (2,1)
  Miranda-1: (3,-3)
  Miranda-2: (4,-3)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: fore
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'forward', 'turn_right', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: backward
DEBUG:   Before: (3,-3) facing 2
DEBUG: Miranda-1 wants to move BACK from (3,-3) to (4,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (4,-4) facing 2 - Success: True
DEBUG: Miranda-1 executing move 2/6: backward
DEBUG:   Before: (4,-4) facing 2
DEBUG: Miranda-1 wants to move BACK from (4,-4) to (5,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (5,-5) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (5,-5) facing 2
DEBUG: Miranda-1 wants to move FWD from (5,-5) to (4,-4)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (4,-4) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_right
DEBUG:   Before: (4,-4) facing 2
Turned right (0 pts left)
DEBUG:   After: (4,-4) facing 3 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (4,-4) facing 3
No movement points left!
DEBUG:   After: (4,-4) facing 3 - Success: False
Miranda-1: Movement blocked, clearing remaining moves
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (4,-3) facing 5
DEBUG: All ship positions:
  Enterprise: (2,1)
  Miranda-1: (4,-4)
  Miranda-2: (4,-3)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: aft
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Miranda-2 executing move 1/6: backward
DEBUG:   Before: (4,-3) facing 5
DEBUG: Miranda-2 wants to move BACK from (4,-3) to (3,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (3,-2) facing 5 - Success: True
DEBUG: Miranda-2 executing move 2/6: backward
DEBUG:   Before: (3,-2) facing 5
DEBUG: Miranda-2 wants to move BACK from (3,-2) to (2,-1)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (2,-1) facing 5 - Success: True
DEBUG: Miranda-2 executing move 3/6: forward
DEBUG:   Before: (2,-1) facing 5
DEBUG: Miranda-2 wants to move FWD from (2,-1) to (3,-2)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (3,-2) facing 5 - Success: True
DEBUG: Miranda-2 executing move 4/6: turn_left
DEBUG:   Before: (3,-2) facing 5
Turned left (0 pts left)
DEBUG:   After: (3,-2) facing 4 - Success: True
DEBUG: Miranda-2 executing move 5/6: forward
DEBUG:   Before: (3,-2) facing 4
No movement points left!
DEBUG:   After: (3,-2) facing 4 - Success: False
Miranda-2: Movement blocked, clearing remaining moves
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (8,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (2,1)
  Miranda-1: (4,-4)
  Miranda-2: (3,-2)
  Miranda-3: (8,-2)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 6, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (8,-2) facing 3
DEBUG: Miranda-3 wants to move FWD from (8,-2) to (7,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (7,-2) facing 3 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_right
DEBUG:   Before: (7,-2) facing 3
Turned right (4 pts left)
DEBUG:   After: (7,-2) facing 4 - Success: True
DEBUG: Miranda-3 executing move 3/6: forward
DEBUG:   Before: (7,-2) facing 4
DEBUG: Miranda-3 wants to move FWD from (7,-2) to (7,-3)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (7,-3) facing 4 - Success: True
DEBUG: Miranda-3 executing move 4/6: turn_left
DEBUG:   Before: (7,-3) facing 4
Turned left (2 pts left)
DEBUG:   After: (7,-3) facing 3 - Success: True
DEBUG: Miranda-3 executing move 5/6: forward
DEBUG:   Before: (7,-3) facing 3
DEBUG: Miranda-3 wants to move FWD from (7,-3) to (6,-3)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (6,-3) facing 3 - Success: True
DEBUG: Miranda-3 executing move 6/6: turn_left
DEBUG:   Before: (6,-3) facing 3
Turned left (0 pts left)
DEBUG:   After: (6,-3) facing 2 - Success: True
DEBUG: Miranda-3 ended at (6,-3) facing 2
DEBUG: Miranda-3 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2490, 809)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-1
  SECONDARY: Miranda-2
  TERTIARY: Miranda-3
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → PRIMARY: 106 to port shields
PHASER → TERTIARY: 53 to fore shields (50%)
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → PRIMARY: 106 to port shields
PHASER → PRIMARY: 106 to port shields
PHASER → PRIMARY: 106 to port shields
TORPEDO → TERTIARY: 135 shield, 9.0 hull (50%)
TORPEDO → TERTIARY: 135 shield, 9.0 hull (50%)
TORPEDO → TERTIARY: 135 shield, 9.0 hull (50%)
TORPEDO → TERTIARY: 135 shield, 9.0 hull (50%)
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting PORT shields ---
PHASER: 30 to port shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting PORT shields ---
PHASER: 36 to port shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 30 to fore shields
PHASER: 30 to fore shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 45 = 120
Miranda-1: Base 0 + Roll 43 = 43
Miranda-2: Base 0 + Roll 16 = 16
Miranda-3: Base 0 + Roll 76 = 76
Turn order: Enterprise > Miranda-3 > Miranda-1 > Miranda-2

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (2,1) to (3,1)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (3,1) to (4,1)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned left (2 pts left)
DEBUG: Enterprise wants to move FWD from (4,1) to (5,0)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
Turned left (0 pts left)
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (6,-3) facing 2
DEBUG: All ship positions:
  Enterprise: (5,0)
  Miranda-1: (4,-4)
  Miranda-2: (3,-2)
  Miranda-3: (6,-3)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: fore
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'forward', 'turn_left', 'forward']
DEBUG: Miranda-3 executing move 1/6: backward
DEBUG:   Before: (6,-3) facing 2
DEBUG: Miranda-3 wants to move BACK from (6,-3) to (7,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (7,-4) facing 2 - Success: True
DEBUG: Miranda-3 executing move 2/6: backward
DEBUG:   Before: (7,-4) facing 2
DEBUG: Miranda-3 wants to move BACK from (7,-4) to (8,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (8,-5) facing 2 - Success: True
DEBUG: Miranda-3 executing move 3/6: backward
DEBUG:   Before: (8,-5) facing 2
DEBUG: Miranda-3 wants to move BACK from (8,-5) to (9,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (9,-6) facing 2 - Success: True
DEBUG: Miranda-3 executing move 4/6: forward
DEBUG:   Before: (9,-6) facing 2
No movement points left!
DEBUG:   After: (9,-6) facing 2 - Success: False
Miranda-3: Movement blocked, clearing remaining moves
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (4,-4) facing 3
DEBUG: All ship positions:
  Enterprise: (5,0)
  Miranda-1: (4,-4)
  Miranda-2: (3,-2)
  Miranda-3: (9,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 5, Target in arc: port
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (4,-4) facing 3
DEBUG: Miranda-1 wants to move FWD from (4,-4) to (3,-4)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-4) facing 3 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_left
DEBUG:   Before: (3,-4) facing 3
Turned left (4 pts left)
DEBUG:   After: (3,-4) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (3,-4) facing 2
DEBUG: Miranda-1 wants to move FWD from (3,-4) to (2,-3)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (2,-3) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_left
DEBUG:   Before: (2,-3) facing 2
Turned left (2 pts left)
DEBUG:   After: (2,-3) facing 1 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (2,-3) facing 1
DEBUG: Miranda-1 wants to move FWD from (2,-3) to (2,-2)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (2,-2) facing 1 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_left
DEBUG:   Before: (2,-2) facing 1
Turned left (0 pts left)
DEBUG:   After: (2,-2) facing 0 - Success: True
DEBUG: Miranda-1 ended at (2,-2) facing 0
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (3,-2) facing 4
DEBUG: All ship positions:
  Enterprise: (5,0)
  Miranda-1: (2,-2)
  Miranda-2: (3,-2)
  Miranda-3: (9,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: aft
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Miranda-2 executing move 1/6: backward
DEBUG:   Before: (3,-2) facing 4
DEBUG: Miranda-2 wants to move BACK from (3,-2) to (3,-1)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (3,-1) facing 4 - Success: True
DEBUG: Miranda-2 executing move 2/6: backward
DEBUG:   Before: (3,-1) facing 4
DEBUG: Miranda-2 wants to move BACK from (3,-1) to (3,0)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (3,0) facing 4 - Success: True
DEBUG: Miranda-2 executing move 3/6: forward
DEBUG:   Before: (3,0) facing 4
DEBUG: Miranda-2 wants to move FWD from (3,0) to (3,-1)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (3,-1) facing 4 - Success: True
DEBUG: Miranda-2 executing move 4/6: turn_left
DEBUG:   Before: (3,-1) facing 4
Turned left (0 pts left)
DEBUG:   After: (3,-1) facing 3 - Success: True
DEBUG: Miranda-2 executing move 5/6: forward
DEBUG:   Before: (3,-1) facing 3
No movement points left!
DEBUG:   After: (3,-1) facing 3 - Success: False
Miranda-2: Movement blocked, clearing remaining moves
DEBUG: Miranda-2 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (2493, 805)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-1
  SECONDARY: Miranda-2
  TERTIARY: Miranda-3
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → SECONDARY: 95 to aft shields (75%)
PHASER → SECONDARY: 95 to aft shields (75%)
PHASER → SECONDARY: 95 to aft shields (75%)
PHASER → SECONDARY: 95 to aft shields (75%)
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
PHASER → TERTIARY: 42 to fore shields (50%)
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 6 hexes, hitting STARBOARD shields ---
PHASER: 25 to starboard shields
PHASER: 25 to starboard shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting FORE shields ---
PHASER: 31 to fore shields
PHASER: 31 to fore shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting FORE shields ---
PHASER: 38 to fore shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 62 = 137
Miranda-1: Base 0 + Roll 37 = 37
Miranda-2: Base 0 + Roll 56 = 56
Miranda-3: Base 0 + Roll 24 = 24
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (5,0) to (5,-1)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned right (3 pts left)
DEBUG: Enterprise wants to move FWD from (5,-1) to (6,-2)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (6,-2) to (7,-3)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
Turned left (0 pts left)
No movement points left!
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (3,-1) facing 3
DEBUG: All ship positions:
  Enterprise: (7,-3)
  Miranda-1: (2,-2)
  Miranda-2: (3,-1)
  Miranda-3: (9,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: aft
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'backward', 'backward', 'forward', 'turn_right']
DEBUG: Miranda-2 executing move 1/6: forward
DEBUG:   Before: (3,-1) facing 3
DEBUG: Miranda-2 wants to move FWD from (3,-1) to (2,-1)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (2,-1) facing 3 - Success: True
DEBUG: Miranda-2 executing move 2/6: turn_left
DEBUG:   Before: (2,-1) facing 3
Turned left (4 pts left)
DEBUG:   After: (2,-1) facing 2 - Success: True
DEBUG: Miranda-2 executing move 3/6: backward
DEBUG:   Before: (2,-1) facing 2
DEBUG: Miranda-2 wants to move BACK from (2,-1) to (3,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (3,-2) facing 2 - Success: True
DEBUG: Miranda-2 executing move 4/6: backward
DEBUG:   Before: (3,-2) facing 2
DEBUG: Miranda-2 wants to move BACK from (3,-2) to (4,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (4,-3) facing 2 - Success: True
DEBUG: Miranda-2 executing move 5/6: forward
DEBUG:   Before: (4,-3) facing 2
No movement points left!
DEBUG:   After: (4,-3) facing 2 - Success: False
Miranda-2: Movement blocked, clearing remaining moves
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (2,-2) facing 0
DEBUG: All ship positions:
  Enterprise: (7,-3)
  Miranda-1: (2,-2)
  Miranda-2: (4,-3)
  Miranda-3: (9,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 5, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_right', 'forward', 'turn_right']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (2,-2) facing 0
DEBUG: Miranda-1 wants to move FWD from (2,-2) to (3,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-2) facing 0 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (3,-2) facing 0
Turned right (4 pts left)
DEBUG:   After: (3,-2) facing 1 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (3,-2) facing 1
DEBUG: Miranda-1 wants to move FWD from (3,-2) to (3,-1)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (3,-1) facing 1 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_right
DEBUG:   Before: (3,-1) facing 1
Turned right (2 pts left)
DEBUG:   After: (3,-1) facing 2 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (3,-1) facing 2
DEBUG: Miranda-1 wants to move FWD from (3,-1) to (2,0)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (2,0) facing 2 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_right
DEBUG:   Before: (2,0) facing 2
Turned right (0 pts left)
DEBUG:   After: (2,0) facing 3 - Success: True
DEBUG: Miranda-1 ended at (2,0) facing 3
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (9,-6) facing 2
DEBUG: All ship positions:
  Enterprise: (7,-3)
  Miranda-1: (2,0)
  Miranda-2: (4,-3)
  Miranda-3: (9,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'backward', 'backward', 'backward', 'forward']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (9,-6) facing 2
DEBUG: Miranda-3 wants to move FWD from (9,-6) to (8,-5)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (8,-5) facing 2 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_left
DEBUG:   Before: (8,-5) facing 2
Turned left (4 pts left)
DEBUG:   After: (8,-5) facing 1 - Success: True
DEBUG: Miranda-3 executing move 3/6: backward
DEBUG:   Before: (8,-5) facing 1
DEBUG: Miranda-3 wants to move BACK from (8,-5) to (8,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (8,-6) facing 1 - Success: True
DEBUG: Miranda-3 executing move 4/6: backward
DEBUG:   Before: (8,-6) facing 1
DEBUG: Miranda-3 wants to move BACK from (8,-6) to (8,-7)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (8,-7) facing 1 - Success: True
DEBUG: Miranda-3 executing move 5/6: backward
DEBUG:   Before: (8,-7) facing 1
Not enough movement points! (Backward costs 2)
DEBUG:   After: (8,-7) facing 1 - Success: False
Miranda-3: Movement blocked, clearing remaining moves
DEBUG: Miranda-3 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (1371, 397)
  Opening radial menu for Miranda-2
RADIAL MENU: Click at (1298, 412), target=Miranda-2
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as secondary
>>> TARGET CLEARED: Enterprise SECONDARY
MOUSE: Left-click at (1334, 551)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1286, 551), target=Miranda-1
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as primary
>>> TARGET CLEARED: Enterprise PRIMARY
MOUSE: Left-click at (1535, 146)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1466, 147), target=Miranda-3
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as tertiary
>>> TARGET CLEARED: Enterprise TERTIARY
MOUSE: Left-click at (1337, 554)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1265, 559), target=Miranda-1
  Selected: CLEAR (clear)
MOUSE: Left-click at (1515, 150)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1514, 84), target=Miranda-3
  Selected: PRIMARY (primary)
DEBUG select_target(): Enterprise -> Miranda-3 as primary
>>> TARGET SET: Enterprise PRIMARY = Miranda-3
MOUSE: Left-click at (2537, 819)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-3
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 89.8 shield, 16.2 hull
PHASER → PRIMARY: 42.400000000000006 shield, 63.599999999999994 hull
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting PORT shields ---
PHASER: 38 to port shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting PORT shields ---
PHASER: 31 to port shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 31 to fore shields
PHASER: 31 to fore shields
TORPEDO: 104 to fore shields, 1.7400000000000004 hull
DEBUG: Miranda-3 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 26 = 101
Miranda-1: Base 0 + Roll 28 = 28
Miranda-2: Base 0 + Roll 45 = 45
Miranda-3: Base 0 + Roll 17 = 17
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (7,-3) to (7,-4)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned left (3 pts left)
DEBUG: Enterprise wants to move FWD from (7,-4) to (6,-4)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (6,-4) to (5,-4)
>>> Enterprise MOVEMENT BLOCKED! Would collide with Miranda-2
>>> Colliding hexes: [(4, -3)]
>>> RETURNING FALSE - MOVE CANCELLED
Turned right (1 pts left)
DEBUG: Enterprise wants to move FWD from (6,-4) to (6,-5)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (4,-3) facing 2
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,0)
  Miranda-2: (4,-3)
  Miranda-3: (8,-7)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: aft
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'backward', 'backward', 'backward', 'backward']
DEBUG: Miranda-2 executing move 1/6: forward
DEBUG:   Before: (4,-3) facing 2
DEBUG: Miranda-2 wants to move FWD from (4,-3) to (3,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-2) facing 2 - Success: True
DEBUG: Miranda-2 executing move 2/6: turn_left
DEBUG:   Before: (3,-2) facing 2
Turned left (4 pts left)
DEBUG:   After: (3,-2) facing 1 - Success: True
DEBUG: Miranda-2 executing move 3/6: backward
DEBUG:   Before: (3,-2) facing 1
DEBUG: Miranda-2 wants to move BACK from (3,-2) to (3,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (3,-3) facing 1 - Success: True
DEBUG: Miranda-2 executing move 4/6: backward
DEBUG:   Before: (3,-3) facing 1
DEBUG: Miranda-2 wants to move BACK from (3,-3) to (3,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (3,-4) facing 1 - Success: True
DEBUG: Miranda-2 executing move 5/6: backward
DEBUG:   Before: (3,-4) facing 1
Not enough movement points! (Backward costs 2)
DEBUG:   After: (3,-4) facing 1 - Success: False
Miranda-2: Movement blocked, clearing remaining moves
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (2,0) facing 3
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,0)
  Miranda-2: (3,-4)
  Miranda-3: (8,-7)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 5, Target in arc: starboard
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'forward', 'turn_right', 'forward', 'turn_right']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (2,0) facing 3
DEBUG: Miranda-1 wants to move FWD from (2,0) to (1,0)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (1,0) facing 3 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (1,0) facing 3
Turned right (4 pts left)
DEBUG:   After: (1,0) facing 4 - Success: True
DEBUG: Miranda-1 executing move 3/6: forward
DEBUG:   Before: (1,0) facing 4
DEBUG: Miranda-1 wants to move FWD from (1,0) to (1,-1)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (1,-1) facing 4 - Success: True
DEBUG: Miranda-1 executing move 4/6: turn_right
DEBUG:   Before: (1,-1) facing 4
Turned right (2 pts left)
DEBUG:   After: (1,-1) facing 5 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (1,-1) facing 5
DEBUG: Miranda-1 wants to move FWD from (1,-1) to (2,-2)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (2,-2) facing 5 - Success: True
DEBUG: Miranda-1 executing move 6/6: turn_right
DEBUG:   Before: (2,-2) facing 5
Turned right (0 pts left)
DEBUG:   After: (2,-2) facing 0 - Success: True
DEBUG: Miranda-1 ended at (2,-2) facing 0
DEBUG: Miranda-1 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (8,-7) facing 1
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,-2)
  Miranda-2: (3,-4)
  Miranda-3: (8,-7)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: starboard
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'backward', 'backward', 'backward', 'backward']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (8,-7) facing 1
DEBUG: Miranda-3 wants to move FWD from (8,-7) to (8,-6)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (8,-6) facing 1 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_left
DEBUG:   Before: (8,-6) facing 1
Turned left (4 pts left)
DEBUG:   After: (8,-6) facing 0 - Success: True
DEBUG: Miranda-3 executing move 3/6: backward
DEBUG:   Before: (8,-6) facing 0
DEBUG: Miranda-3 wants to move BACK from (8,-6) to (7,-6)
>>> Miranda-3 MOVEMENT BLOCKED! Would collide with Enterprise
>>> Colliding hexes: [(7, -6)]
>>> RETURNING FALSE - MOVE CANCELLED
DEBUG:   After: (8,-6) facing 0 - Success: False
Miranda-3: Movement blocked, clearing remaining moves
DEBUG: Miranda-3 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (1547, 188)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1610, 554), target=Miranda-3
  Clicked outside menu, closing
MOUSE: Left-click at (1267, 432)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1348, 439), target=Miranda-1
  Selected: SECONDARY (secondary)
DEBUG select_target(): Enterprise -> Miranda-1 as secondary
>>> TARGET SET: Enterprise SECONDARY = Miranda-1
MOUSE: Left-click at (1272, 314)
  Opening radial menu for Miranda-2
RADIAL MENU: Click at (1252, 388), target=Miranda-2
  Selected: TERTIARY (tertiary)
DEBUG select_target(): Enterprise -> Miranda-2 as tertiary
>>> TARGET SET: Enterprise TERTIARY = Miranda-2
MOUSE: Left-click at (1618, 552)
MOUSE: Left-click at (2548, 818)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-3
  SECONDARY: Miranda-1
  TERTIARY: Miranda-2
PHASER → SECONDARY: 79 to fore shields (75%)
PHASER → PRIMARY: 127 to aft shields
PHASER → SECONDARY: 79 to fore shields (75%)
PHASER → PRIMARY: 127 to aft shields
PHASER → SECONDARY: 79 to fore shields (75%)
PHASER → TERTIARY: 63 to port shields (50%)
PHASER → TERTIARY: 63 to port shields (50%)
PHASER → TERTIARY: 63 to port shields (50%)
PHASER → SECONDARY: 79 to fore shields (75%)
PHASER → PRIMARY: 127 to aft shields
PHASER → PRIMARY: 127 to aft shields
PHASER → PRIMARY: 127 to aft shields
PHASER → PRIMARY: 127 to aft shields
PHASER → PRIMARY: 85.6 shield, 41.4 hull
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting PORT shields ---
PHASER: 38 to port shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting PORT shields ---
PHASER: 31 to port shields
PHASER: 31 to port shields
TORPEDO: 104 to port shields, 1.7400000000000004 hull
DEBUG: Miranda-1 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 2 hexes, hitting STARBOARD shields ---
PHASER: 38 to starboard shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 12 = 87
Miranda-1: Base 0 + Roll 26 = 26
Miranda-2: Base 0 + Roll 100 = 100
Miranda-3: Base 0 + Roll 37 = 37
Turn order: Miranda-2 > Enterprise > Miranda-3 > Miranda-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (3,-4) facing 1
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,-2)
  Miranda-2: (3,-4)
  Miranda-3: (8,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: port
DEBUG: AI decided on 6 moves: ['backward', 'backward', 'backward', 'forward', 'turn_right', 'forward']
DEBUG: Miranda-2 executing move 1/6: backward
DEBUG:   Before: (3,-4) facing 1
DEBUG: Miranda-2 wants to move BACK from (3,-4) to (3,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (4 pts left)
DEBUG:   After: (3,-5) facing 1 - Success: True
DEBUG: Miranda-2 executing move 2/6: backward
DEBUG:   Before: (3,-5) facing 1
DEBUG: Miranda-2 wants to move BACK from (3,-5) to (3,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (3,-6) facing 1 - Success: True
DEBUG: Miranda-2 executing move 3/6: backward
DEBUG:   Before: (3,-6) facing 1
DEBUG: Miranda-2 wants to move BACK from (3,-6) to (3,-7)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (3,-7) facing 1 - Success: True
DEBUG: Miranda-2 executing move 4/6: forward
DEBUG:   Before: (3,-7) facing 1
No movement points left!
DEBUG:   After: (3,-7) facing 1 - Success: False
Miranda-2: Movement blocked, clearing remaining moves
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Enterprise
Enterprise: 5 movement points
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (8,-6) facing 0
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,-2)
  Miranda-2: (3,-7)
  Miranda-3: (8,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 2, Target in arc: aft
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'backward', 'backward', 'backward', 'backward']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (8,-6) facing 0
DEBUG: Miranda-3 wants to move FWD from (8,-6) to (9,-6)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (9,-6) facing 0 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_right
DEBUG:   Before: (9,-6) facing 0
Turned right (4 pts left)
DEBUG:   After: (9,-6) facing 1 - Success: True
DEBUG: Miranda-3 executing move 3/6: backward
DEBUG:   Before: (9,-6) facing 1
DEBUG: Miranda-3 wants to move BACK from (9,-6) to (9,-7)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (9,-7) facing 1 - Success: True
DEBUG: Miranda-3 executing move 4/6: backward
DEBUG:   Before: (9,-7) facing 1
DEBUG: Miranda-3 wants to move BACK from (9,-7) to (9,-8)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (9,-8) facing 1 - Success: True
DEBUG: Miranda-3 executing move 5/6: backward
DEBUG:   Before: (9,-8) facing 1
Not enough movement points! (Backward costs 2)
DEBUG:   After: (9,-8) facing 1 - Success: False
Miranda-3: Movement blocked, clearing remaining moves
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (2,-2) facing 0
DEBUG: All ship positions:
  Enterprise: (6,-5)
  Miranda-1: (2,-2)
  Miranda-2: (3,-7)
  Miranda-3: (9,-8)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'backward', 'backward', 'forward', 'turn_right']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (2,-2) facing 0
DEBUG: Miranda-1 wants to move FWD from (2,-2) to (3,-2)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-2) facing 0 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (3,-2) facing 0
Turned right (4 pts left)
DEBUG:   After: (3,-2) facing 1 - Success: True
DEBUG: Miranda-1 executing move 3/6: backward
DEBUG:   Before: (3,-2) facing 1
DEBUG: Miranda-1 wants to move BACK from (3,-2) to (3,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (3,-3) facing 1 - Success: True
DEBUG: Miranda-1 executing move 4/6: backward
DEBUG:   Before: (3,-3) facing 1
DEBUG: Miranda-1 wants to move BACK from (3,-3) to (3,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (3,-4) facing 1 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (3,-4) facing 1
No movement points left!
DEBUG:   After: (3,-4) facing 1 - Success: False
Miranda-1: Movement blocked, clearing remaining moves
DEBUG: Miranda-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Enterprise
MOUSE: Left-click at (2530, 796)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting FORE shields ---
PHASER: 37 to fore shields
PHASER: 37 to fore shields
TORPEDO: 123 to fore shields, 2.0550000000000006 hull
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Enterprise
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-3
  SECONDARY: Miranda-1
  TERTIARY: Miranda-2
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → PRIMARY: 127 to starboard shields
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → PRIMARY: 127 to starboard shields
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → SECONDARY: 95 to port shields (75%)
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
PHASER → PRIMARY: 127 to starboard shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting STARBOARD shields ---
PHASER: 45 to starboard shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting PORT shields ---
PHASER: 45 to port shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Enterprise
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Enterprise
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: No repairs needed
DEBUG: Miranda-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 38 = 113
Miranda-1: Base 0 + Roll 69 = 69
Miranda-2: Base 0 + Roll 76 = 76
Miranda-3: Base 0 + Roll 71 = 71
Turn order: Enterprise > Miranda-2 > Miranda-3 > Miranda-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move BACK from (6,-5) to (6,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG: Enterprise wants to move BACK from (6,-4) to (6,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
Not enough movement points! (Backward costs 2)
Not enough movement points! (Backward costs 2)
Not enough movement points! (Backward costs 2)
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Miranda-2
Miranda-2: 6 movement points
DEBUG: Miranda-2 starting at (3,-7) facing 1
DEBUG: All ship positions:
  Enterprise: (6,-3)
  Miranda-1: (3,-4)
  Miranda-2: (3,-7)
  Miranda-3: (9,-8)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 7, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'forward', 'turn_right', 'forward', 'turn_left']
DEBUG: Miranda-2 executing move 1/6: forward
DEBUG:   Before: (3,-7) facing 1
DEBUG: Miranda-2 wants to move FWD from (3,-7) to (3,-6)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-6) facing 1 - Success: True
DEBUG: Miranda-2 executing move 2/6: turn_left
DEBUG:   Before: (3,-6) facing 1
Turned left (4 pts left)
DEBUG:   After: (3,-6) facing 0 - Success: True
DEBUG: Miranda-2 executing move 3/6: forward
DEBUG:   Before: (3,-6) facing 0
DEBUG: Miranda-2 wants to move FWD from (3,-6) to (4,-6)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (4,-6) facing 0 - Success: True
DEBUG: Miranda-2 executing move 4/6: turn_right
DEBUG:   Before: (4,-6) facing 0
Turned right (2 pts left)
DEBUG:   After: (4,-6) facing 1 - Success: True
DEBUG: Miranda-2 executing move 5/6: forward
DEBUG:   Before: (4,-6) facing 1
DEBUG: Miranda-2 wants to move FWD from (4,-6) to (4,-5)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (4,-5) facing 1 - Success: True
DEBUG: Miranda-2 executing move 6/6: turn_left
DEBUG:   Before: (4,-5) facing 1
Turned left (0 pts left)
DEBUG:   After: (4,-5) facing 0 - Success: True
DEBUG: Miranda-2 ended at (4,-5) facing 0
DEBUG: Miranda-2 completed action in movement phase
DEBUG: Next ship is Miranda-3
Miranda-3: 6 movement points
DEBUG: Miranda-3 starting at (9,-8) facing 1
DEBUG: All ship positions:
  Enterprise: (6,-3)
  Miranda-1: (3,-4)
  Miranda-2: (4,-5)
  Miranda-3: (9,-8)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 5, Target in arc: starboard
DEBUG: AI decided on 6 moves: ['forward', 'turn_left', 'forward', 'turn_right', 'forward', 'turn_left']
DEBUG: Miranda-3 executing move 1/6: forward
DEBUG:   Before: (9,-8) facing 1
DEBUG: Miranda-3 wants to move FWD from (9,-8) to (9,-7)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (9,-7) facing 1 - Success: True
DEBUG: Miranda-3 executing move 2/6: turn_left
DEBUG:   Before: (9,-7) facing 1
Turned left (4 pts left)
DEBUG:   After: (9,-7) facing 0 - Success: True
DEBUG: Miranda-3 executing move 3/6: forward
DEBUG:   Before: (9,-7) facing 0
DEBUG: Miranda-3 wants to move FWD from (9,-7) to (10,-7)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (10,-7) facing 0 - Success: True
DEBUG: Miranda-3 executing move 4/6: turn_right
DEBUG:   Before: (10,-7) facing 0
Turned right (2 pts left)
DEBUG:   After: (10,-7) facing 1 - Success: True
DEBUG: Miranda-3 executing move 5/6: forward
DEBUG:   Before: (10,-7) facing 1
DEBUG: Miranda-3 wants to move FWD from (10,-7) to (10,-6)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (10,-6) facing 1 - Success: True
DEBUG: Miranda-3 executing move 6/6: turn_left
DEBUG:   Before: (10,-6) facing 1
Turned left (0 pts left)
DEBUG:   After: (10,-6) facing 0 - Success: True
DEBUG: Miranda-3 ended at (10,-6) facing 0
DEBUG: Miranda-3 completed action in movement phase
DEBUG: Next ship is Miranda-1
Miranda-1: 6 movement points
DEBUG: Miranda-1 starting at (3,-4) facing 1
DEBUG: All ship positions:
  Enterprise: (6,-3)
  Miranda-1: (3,-4)
  Miranda-2: (4,-5)
  Miranda-3: (10,-6)
DEBUG: Asking AI to decide movement with 6 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 4, Target in arc: fore
DEBUG: AI decided on 6 moves: ['forward', 'turn_right', 'backward', 'backward', 'forward', 'turn_left']
DEBUG: Miranda-1 executing move 1/6: forward
DEBUG:   Before: (3,-4) facing 1
DEBUG: Miranda-1 wants to move FWD from (3,-4) to (3,-3)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
DEBUG:   After: (3,-3) facing 1 - Success: True
DEBUG: Miranda-1 executing move 2/6: turn_right
DEBUG:   Before: (3,-3) facing 1
Turned right (4 pts left)
DEBUG:   After: (3,-3) facing 2 - Success: True
DEBUG: Miranda-1 executing move 3/6: backward
DEBUG:   Before: (3,-3) facing 2
DEBUG: Miranda-1 wants to move BACK from (3,-3) to (4,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (2 pts left)
DEBUG:   After: (4,-4) facing 2 - Success: True
DEBUG: Miranda-1 executing move 4/6: backward
DEBUG:   Before: (4,-4) facing 2
DEBUG: Miranda-1 wants to move BACK from (4,-4) to (5,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (0 pts left)
DEBUG:   After: (5,-5) facing 2 - Success: True
DEBUG: Miranda-1 executing move 5/6: forward
DEBUG:   Before: (5,-5) facing 2
No movement points left!
DEBUG:   After: (5,-5) facing 2 - Success: False
Miranda-1: Movement blocked, clearing remaining moves
DEBUG: Miranda-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
3 targets available - CLICK or RIGHT-CLICK on ships to assign priorities
Use radial menu: ORANGE=Primary, BLUE=Secondary, PURPLE=Tertiary, RED=Clear
MOUSE: Left-click at (1360, 252)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1298, 258), target=Miranda-1
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as secondary
>>> TARGET CLEARED: Enterprise SECONDARY
MOUSE: Left-click at (1300, 258)
  Opening radial menu for Miranda-2
RADIAL MENU: Click at (1249, 265), target=Miranda-2
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as tertiary
>>> TARGET CLEARED: Enterprise TERTIARY
MOUSE: Left-click at (1715, 200)
  Opening radial menu for Miranda-3
RADIAL MENU: Click at (1646, 217), target=Miranda-3
  Selected: CLEAR (clear)
DEBUG select_target(): Enterprise -> None as primary
>>> TARGET CLEARED: Enterprise PRIMARY
MOUSE: Left-click at (1375, 269)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1288, 267), target=Miranda-1
  Selected: CLEAR (clear)
MOUSE: Left-click at (1367, 263)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1307, 259), target=Miranda-1
  Selected: CLEAR (clear)
MOUSE: Left-click at (1852, 433)
MOUSE: Left-click at (1377, 259)
  Opening radial menu for Miranda-1
RADIAL MENU: Click at (1369, 192), target=Miranda-1
  Selected: PRIMARY (primary)
DEBUG select_target(): Enterprise -> Miranda-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Miranda-1
MOUSE: Left-click at (2520, 795)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI targeting for Miranda-2
DEBUG select_target(): Miranda-2 -> Enterprise as primary
>>> TARGET SET: Miranda-2 PRIMARY = Enterprise
DEBUG: Miranda-2 completed action in targeting phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI targeting for Miranda-3
DEBUG select_target(): Miranda-3 -> Enterprise as primary
>>> TARGET SET: Miranda-3 PRIMARY = Enterprise
DEBUG: Miranda-3 completed action in targeting phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI targeting for Miranda-1
DEBUG select_target(): Miranda-1 -> Enterprise as primary
>>> TARGET SET: Miranda-1 PRIMARY = Enterprise
DEBUG: Miranda-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Miranda-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 127 to port shields
PHASER → PRIMARY: 67.6 shield, 59.4 hull
PHASER → PRIMARY: 50.8 shield, 76.2 hull
PHASER → PRIMARY: 50.8 shield, 76.2 hull
PHASER → PRIMARY: 50.8 shield, 76.2 hull
PHASER → PRIMARY: 50.8 shield, 76.2 hull
PHASER → PRIMARY: 50.8 shield, 76.2 hull
TORPEDO → PRIMARY: 324 shield, 216.0 hull
  *** Miranda-1 DISABLED - Hull integrity failure! ***
TORPEDO → PRIMARY: 324 shield, 216.0 hull
*** Miranda-1 DESTROYED! ***
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI firing for Miranda-2
============================================================
Miranda-2: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 33 to fore shields
PHASER: 33 to fore shields
DEBUG: Miranda-2 completed action in firing phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI firing for Miranda-3
============================================================
Miranda-3: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting STARBOARD shields ---
PHASER: 33 to starboard shields
DEBUG: Miranda-3 completed action in firing phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI firing for Miranda-1
============================================================
Miranda-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 3 hexes, hitting FORE shields ---
PHASER: 40 to fore shields
DEBUG: Miranda-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:200) → 1.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI power allocation for Miranda-2
Miranda-2: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-2 completed action in power phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI power allocation for Miranda-3
Miranda-3: Power allocated (E:90 S:105 W:105)
DEBUG: Miranda-3 completed action in power phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI power allocation for Miranda-1
Miranda-1: CRITICAL - Defensive power allocation!
Miranda-1: Power allocated (E:105 S:150 W:45)
DEBUG: Miranda-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Miranda-2
DEBUG: Executing AI repairs for Miranda-2
Miranda-2: No repairs needed
DEBUG: Miranda-2 completed action in repair phase
DEBUG: Next ship is Miranda-3
DEBUG: Executing AI repairs for Miranda-3
Miranda-3: No repairs needed
DEBUG: Miranda-3 completed action in repair phase
DEBUG: Next ship is Miranda-1
DEBUG: Executing AI repairs for Miranda-1
Miranda-1: Repaired Weapons +13%
Miranda-1: Repaired Sick Bay +13%
DEBUG: Miranda-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 42 = 117
Miranda-1: Base 0 + Roll 74 = 74
Miranda-2: Base 0 + Roll 90 = 90
Miranda-3: Base 0 + Roll 71 = 71
Turn order: Enterprise > Miranda-2 > Miranda-1 > Miranda-3

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
