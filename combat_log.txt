=== COMBAT LOG INITIALIZED ===
Bridge crew assigned:
  Captain: 75 Command (Initiative: +75 to roll)
  Tactical: 75 Tactical (Accuracy: +15%)
============================================================
COMBAT ARENA INITIALIZED
============================================================
Combat: Yorktown vs 1 enemy ships
  Enemy forces: 1× Yorktown
Starting positions:
  Enterprise: hex=(-5,0) facing=0 size=Huge
  Yorktown-1: hex=(5,-2) facing=3 size=Huge
Combat ready - press SPACE to fire, ENTER to advance

============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 87 = 162
Yorktown-1: Base 0 + Roll 87 = 87
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-5,0) to (-4,0)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (-4,0) to (-3,0)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned left (2 pts left)
Already turned! Move again to turn more.
Already turned! Move again to turn more.
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 5 movement points
DEBUG: Yorktown-1 starting at (5,-2) facing 3
DEBUG: All ship positions:
  Enterprise: (-3,0)
  Yorktown-1: (5,-2)
DEBUG: Asking AI to decide movement with 5 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 8, Target in arc: fore
DEBUG: AI decided on 5 moves: ['forward', 'forward', 'forward', 'turn_left', 'forward']
DEBUG: Yorktown-1 executing move 1/5: forward
DEBUG:   Before: (5,-2) facing 3
DEBUG: Yorktown-1 wants to move FWD from (5,-2) to (4,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG:   After: (4,-2) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 2/5: forward
DEBUG:   Before: (4,-2) facing 3
DEBUG: Yorktown-1 wants to move FWD from (4,-2) to (3,-2)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (3,-2) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 3/5: forward
DEBUG:   Before: (3,-2) facing 3
DEBUG: Yorktown-1 wants to move FWD from (3,-2) to (2,-2)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (2,-2) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 4/5: turn_left
DEBUG:   Before: (2,-2) facing 3
Turned left (1 pts left)
DEBUG:   After: (2,-2) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/5: forward
DEBUG:   Before: (2,-2) facing 2
DEBUG: Yorktown-1 wants to move FWD from (2,-2) to (1,-1)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (1,-1) facing 2 - Success: True
DEBUG: Yorktown-1 ended at (1,-1) facing 2
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2457, 804)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting STARBOARD shields ---
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
PHASER: 95 to starboard shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:600) → 3.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 72 = 147
Yorktown-1: Base 0 + Roll 85 = 85
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (-3,0) to (-2,-1)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG: Enterprise wants to move FWD from (-2,-1) to (-1,-2)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned right (2 pts left)
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (1,-1) facing 2
DEBUG: All ship positions:
  Enterprise: (-1,-2)
  Yorktown-1: (1,-1)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: starboard
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_right']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (1,-1) facing 2
DEBUG: Yorktown-1 wants to move BACK from (1,-1) to (2,-2)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (2,-2) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (2,-2) facing 2
DEBUG: Yorktown-1 wants to move BACK from (2,-2) to (3,-3)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (3,-3) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 3/7: backward
DEBUG:   Before: (3,-3) facing 2
DEBUG: Yorktown-1 wants to move BACK from (3,-3) to (4,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
DEBUG:   After: (4,-4) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (4,-4) facing 2
DEBUG: Yorktown-1 wants to move FWD from (4,-4) to (3,-3)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (3,-3) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/7: turn_left
DEBUG:   Before: (3,-3) facing 2
No movement points left!
DEBUG:   After: (3,-3) facing 2 - Success: False
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (3,-3) facing 2
No movement points left!
DEBUG:   After: (3,-3) facing 2 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2501, 798)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
PHASER → PRIMARY: 106 to starboard shields
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
TORPEDO → PRIMARY: 270 shield, 4.500000000000001 hull
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 4 hexes, hitting FORE shields ---
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:600) → 3.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 39 = 114
Yorktown-1: Base 0 + Roll 85 = 85
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
Must move before turning!
DEBUG: Enterprise wants to move FWD from (-1,-2) to (0,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (3,-3) facing 2
DEBUG: All ship positions:
  Enterprise: (0,-2)
  Yorktown-1: (3,-3)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: fore
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (3,-3) facing 2
DEBUG: Yorktown-1 wants to move BACK from (3,-3) to (4,-4)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (4,-4) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (4,-4) facing 2
DEBUG: Yorktown-1 wants to move BACK from (4,-4) to (5,-5)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (5,-5) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 3/7: backward
DEBUG:   Before: (5,-5) facing 2
DEBUG: Yorktown-1 wants to move BACK from (5,-5) to (6,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
DEBUG:   After: (6,-6) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (6,-6) facing 2
DEBUG: Yorktown-1 wants to move FWD from (6,-6) to (5,-5)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (5,-5) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/7: turn_left
DEBUG:   Before: (5,-5) facing 2
No movement points left!
DEBUG:   After: (5,-5) facing 2 - Success: False
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (5,-5) facing 2
No movement points left!
DEBUG:   After: (5,-5) facing 2 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2503, 807)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting FORE shields ---
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
PHASER: 100 to fore shields
TORPEDO: 256 to fore shields, 4.275 hull
TORPEDO: 256 to fore shields, 4.275 hull
TORPEDO: 256 to fore shields, 4.275 hull
TORPEDO: 256 to fore shields, 4.275 hull
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:600) → 3.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 22 = 97
Yorktown-1: Base 0 + Roll 85 = 85
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
Must move before turning!
DEBUG: Enterprise wants to move FWD from (0,-2) to (1,-2)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned left (3 pts left)
DEBUG: Enterprise wants to move FWD from (1,-2) to (2,-3)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
KEY: ENTER pressed - phase=movement
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (5,-5) facing 2
DEBUG: All ship positions:
  Enterprise: (2,-3)
  Yorktown-1: (5,-5)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: fore
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'backward', 'forward', 'turn_right', 'forward', 'turn_right']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (5,-5) facing 2
DEBUG: Yorktown-1 wants to move BACK from (5,-5) to (6,-6)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (6,-6) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (6,-6) facing 2
DEBUG: Yorktown-1 wants to move BACK from (6,-6) to (7,-7)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (7,-7) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 3/7: backward
DEBUG:   Before: (7,-7) facing 2
DEBUG: Yorktown-1 wants to move BACK from (7,-7) to (8,-8)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
DEBUG:   After: (8,-8) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (8,-8) facing 2
DEBUG: Yorktown-1 wants to move FWD from (8,-8) to (7,-7)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (7,-7) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/7: turn_right
DEBUG:   Before: (7,-7) facing 2
No movement points left!
DEBUG:   After: (7,-7) facing 2 - Success: False
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (7,-7) facing 2
No movement points left!
DEBUG:   After: (7,-7) facing 2 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2500, 807)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting FORE shields ---
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
PHASER: 95 to fore shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:0 S:0 W:600) → 3.50x arrays
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 95 = 170
Yorktown-1: Base 0 + Roll 10 = 10
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 5 movement points
DEBUG: Enterprise wants to move FWD from (2,-3) to (3,-4)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
Turned right (3 pts left)
DEBUG: Enterprise wants to move FWD from (3,-4) to (4,-4)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG: Enterprise wants to move FWD from (4,-4) to (5,-4)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (7,-7) facing 2
DEBUG: All ship positions:
  Enterprise: (5,-4)
  Yorktown-1: (7,-7)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 3, Target in arc: fore
DEBUG: AI decided on 7 moves: ['backward', 'backward', 'backward', 'forward', 'turn_left', 'forward', 'turn_left']
DEBUG: Yorktown-1 executing move 1/7: backward
DEBUG:   Before: (7,-7) facing 2
DEBUG: Yorktown-1 wants to move BACK from (7,-7) to (8,-8)
>>> All hexes clear, proceeding with backward movement
Moved backward (5 pts left)
DEBUG:   After: (8,-8) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: backward
DEBUG:   Before: (8,-8) facing 2
DEBUG: Yorktown-1 wants to move BACK from (8,-8) to (9,-9)
>>> All hexes clear, proceeding with backward movement
Moved backward (3 pts left)
DEBUG:   After: (9,-9) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 3/7: backward
DEBUG:   Before: (9,-9) facing 2
DEBUG: Yorktown-1 wants to move BACK from (9,-9) to (10,-10)
>>> All hexes clear, proceeding with backward movement
Moved backward (1 pts left)
DEBUG:   After: (10,-10) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (10,-10) facing 2
DEBUG: Yorktown-1 wants to move FWD from (10,-10) to (9,-9)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (9,-9) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 5/7: turn_left
DEBUG:   Before: (9,-9) facing 2
No movement points left!
DEBUG:   After: (9,-9) facing 2 - Success: False
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (9,-9) facing 2
No movement points left!
DEBUG:   After: (9,-9) facing 2 - Success: False
Yorktown-1: Movement blocked, clearing remaining moves
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2552, 798)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
PHASER → PRIMARY: 106 to fore shields
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 5 hexes, hitting PORT shields ---
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
PHASER: 90 to port shields
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:600 S:0 W:0) → +10 MP
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 68 = 143
Yorktown-1: Base 0 + Roll 65 = 65
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 15 movement points (base 5 + 10 power bonus)
DEBUG: Enterprise wants to move FWD from (5,-4) to (6,-4)
>>> All hexes clear, proceeding with movement
Moved forward (14 pts left)
Turned right (13 pts left)
DEBUG: Enterprise wants to move FWD from (6,-4) to (6,-3)
>>> All hexes clear, proceeding with movement
Moved forward (12 pts left)
DEBUG: Enterprise wants to move FWD from (6,-3) to (6,-2)
>>> All hexes clear, proceeding with movement
Moved forward (11 pts left)
DEBUG: Enterprise wants to move FWD from (6,-2) to (6,-1)
>>> All hexes clear, proceeding with movement
Moved forward (10 pts left)
DEBUG: Enterprise wants to move FWD from (6,-1) to (6,0)
>>> All hexes clear, proceeding with movement
Moved forward (9 pts left)
DEBUG: Enterprise wants to move FWD from (6,0) to (6,1)
>>> All hexes clear, proceeding with movement
Moved forward (8 pts left)
DEBUG: Enterprise wants to move FWD from (6,1) to (6,2)
>>> All hexes clear, proceeding with movement
Moved forward (7 pts left)
DEBUG: Enterprise wants to move FWD from (6,2) to (6,3)
>>> All hexes clear, proceeding with movement
Moved forward (6 pts left)
DEBUG: Enterprise wants to move FWD from (6,3) to (6,4)
>>> All hexes clear, proceeding with movement
Moved forward (5 pts left)
Turned right (4 pts left)
Already turned! Move again to turn more.
DEBUG: Enterprise wants to move FWD from (6,4) to (5,5)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
Turned right (2 pts left)
DEBUG: Enterprise wants to move FWD from (5,5) to (4,5)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG: Enterprise wants to move FWD from (4,5) to (3,5)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
No movement points left!
No movement points left!
DEBUG: Enterprise completed action in movement phase
DEBUG: Next ship is Yorktown-1
Yorktown-1: 7 movement points (base 5 + 2 power bonus)
DEBUG: Yorktown-1 starting at (9,-9) facing 2
DEBUG: All ship positions:
  Enterprise: (3,5)
  Yorktown-1: (9,-9)
DEBUG: Asking AI to decide movement with 7 MP
DEBUG: AI settings - preferred_range:6, aggressive:True, evasion:0.5
DEBUG: Distance to target: 14, Target in arc: fore
DEBUG: AI decided on 7 moves: ['forward', 'turn_right', 'forward', 'forward', 'forward', 'forward', 'forward']
DEBUG: Yorktown-1 executing move 1/7: forward
DEBUG:   Before: (9,-9) facing 2
DEBUG: Yorktown-1 wants to move FWD from (9,-9) to (8,-8)
>>> All hexes clear, proceeding with movement
Moved forward (6 pts left)
DEBUG:   After: (8,-8) facing 2 - Success: True
DEBUG: Yorktown-1 executing move 2/7: turn_right
DEBUG:   Before: (8,-8) facing 2
Turned right (5 pts left)
DEBUG:   After: (8,-8) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 3/7: forward
DEBUG:   Before: (8,-8) facing 3
DEBUG: Yorktown-1 wants to move FWD from (8,-8) to (7,-8)
>>> All hexes clear, proceeding with movement
Moved forward (4 pts left)
DEBUG:   After: (7,-8) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 4/7: forward
DEBUG:   Before: (7,-8) facing 3
DEBUG: Yorktown-1 wants to move FWD from (7,-8) to (6,-8)
>>> All hexes clear, proceeding with movement
Moved forward (3 pts left)
DEBUG:   After: (6,-8) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 5/7: forward
DEBUG:   Before: (6,-8) facing 3
DEBUG: Yorktown-1 wants to move FWD from (6,-8) to (5,-8)
>>> All hexes clear, proceeding with movement
Moved forward (2 pts left)
DEBUG:   After: (5,-8) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 6/7: forward
DEBUG:   Before: (5,-8) facing 3
DEBUG: Yorktown-1 wants to move FWD from (5,-8) to (4,-8)
>>> All hexes clear, proceeding with movement
Moved forward (1 pts left)
DEBUG:   After: (4,-8) facing 3 - Success: True
DEBUG: Yorktown-1 executing move 7/7: forward
DEBUG:   Before: (4,-8) facing 3
DEBUG: Yorktown-1 wants to move FWD from (4,-8) to (3,-8)
>>> All hexes clear, proceeding with movement
Moved forward (0 pts left)
DEBUG:   After: (3,-8) facing 3 - Success: True
DEBUG: Yorktown-1 ended at (3,-8) facing 3
DEBUG: Yorktown-1 completed action in movement phase
DEBUG: All ships completed movement, advancing phase
============================================================
PHASE CHANGE: MOVEMENT → TARGETING
============================================================
DEBUG select_target(): Enterprise -> Yorktown-1 as primary
>>> TARGET SET: Enterprise PRIMARY = Yorktown-1
Single target auto-assigned (ENTER to continue)
MOUSE: Left-click at (2489, 798)
DEBUG: Enterprise completed action in targeting phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI targeting for Yorktown-1
DEBUG select_target(): Yorktown-1 -> Enterprise as primary
>>> TARGET SET: Yorktown-1 PRIMARY = Enterprise
DEBUG: Yorktown-1 completed action in targeting phase
DEBUG: All ships completed targeting, advancing phase
============================================================
PHASE CHANGE: TARGETING → FIRING
============================================================
============================================================
FIRING WEAPONS
============================================================
Enterprise firing:
  PRIMARY: Yorktown-1
  SECONDARY: None
  TERTIARY: None
DEBUG: Enterprise completed action in firing phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI firing for Yorktown-1
============================================================
Yorktown-1: AI FIRING TURN
============================================================
Target: Enterprise
--- PRIMARY Enterprise: 13 hexes, hitting STARBOARD shields ---
DEBUG: Yorktown-1 completed action in firing phase
DEBUG: All ships completed firing, advancing phase
============================================================
PHASE CHANGE: DAMAGE → POWER
============================================================
Enterprise: Allocate power (Available: 600)
Drag point in triangle to allocate | ENTER: Confirm | ESC: Cancel
Enterprise: Power allocated (E:600 S:0 W:0) → +10 MP
DEBUG: Enterprise completed action in power phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI power allocation for Yorktown-1
Yorktown-1: Power allocated (E:180 S:150 W:270)
DEBUG: Yorktown-1 completed action in power phase
DEBUG: All ships completed power, advancing phase
============================================================
PHASE CHANGE: POWER → REPAIR
============================================================
Enterprise: Repairs available: 2
Click damaged system to repair | ENTER: Done
Repairs complete (0/2 used)
DEBUG: Enterprise completed action in repair phase
DEBUG: Next ship is Yorktown-1
DEBUG: Executing AI repairs for Yorktown-1
Yorktown-1: No repairs needed
DEBUG: Yorktown-1 completed action in repair phase
DEBUG: All ships completed repair, advancing phase
============================================================
PHASE CHANGE: REPAIR → HOUSEKEEPING
============================================================
============================================================
INITIATIVE PHASE - Rolling for turn order
============================================================
Enterprise: Base 75 + Roll 16 = 91
Yorktown-1: Base 0 + Roll 73 = 73
Turn order: Enterprise > Yorktown-1

============================================================
PHASE CHANGE: INITIATIVE → MOVEMENT
============================================================
Enterprise: 15 movement points (base 5 + 10 power bonus)
